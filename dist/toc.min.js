function Chapter(t,e){this.parent=null,this.level=t,this.title=e||"",this.id=this.setIDByTitle(),this.children=[]}function Toc(t){this.selector="h1, h2, h3, h4, h5, h6",this.container=t,this.chapters=[],this.parseChapters()}if(Chapter.getIDFromStr=function(t){return t.toLowerCase().replace(/\s/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/[\/\\#&,\?]/g,"")},Chapter.prototype.setIDByTitle=function(){return this.title?Chapter.getIDFromStr(this.title):""},Chapter.prototype.addSubChapter=function(t){t.parent=this,this.children.push(t)},Chapter.prototype.toHTML=function(){if(!this.title&&!this.children.length)return"";var t="<li>";return this.title&&(t+='<a href="#'+this.id+'">'+this.title+"</a>"),this.children.length&&(t+="<ul>",this.children.forEach(function(e){t+=e.toHTML()}),t+="</ul>"),t+="</li>"},Chapter.prototype.valueOf=function(){var t=this.title+"/"+this.level+"/"+this.id;if(this.children.length){t+="*";var e=[];this.children.forEach(function(t){e.push(t.valueOf())}),t+=e.join("||")}return t},"object"==typeof exports&&(module.exports=Chapter),"object"==typeof exports)var Chapter=require("./Chapter");Toc.prototype.parseChapters=function(){var t="undefined"!=typeof document?this.container.querySelectorAll(this.selector):this.container.find(this.selector);if(t.length)for(var e,o,n,i,r,a=1,c=0,h=t.length;h>c;c++){var l=t[c];if(e=parseInt(l.tagName.slice(1),10),o=l.textContent.trim().replace(/Â¶$/,""),n=new Chapter(e,o),l.id=n.id,1!=e){if(r||(r=new Chapter(1),this.chapters.push(r),i=r),a>e){for(var s=e;s++<=a;)i=i.parent;i.addSubChapter(n)}else if(e>a){for(var p=e;p-1>a;){var d=new Chapter(p);i.addSubChapter(d),i=d,p--}i.addSubChapter(n)}else i.parent.addSubChapter(n);i=n,a=e}else a=e,this.chapters.push(n),r=n,i=n}},Toc.prototype.toHTML=function(){var t="<ul>";return this.chapters.forEach(function(e){t+=e.toHTML()}),t+="</ul>"},Toc.prototype.valueOf=function(){var t=[];return this.chapters.forEach(function(e){t.push(e.valueOf())}),t.join("||")},"object"==typeof exports&&(module.exports=Toc),function(){function t(t){function e(){s.classList.remove(m)}function o(){s.classList.add(m)}function n(){s.classList.contains(m)?e():o()}for(var i=["#readme > .markdown-body","#README > .wiki",".file-holder > .file-content.wiki",".wiki-holder > .wiki"],r=null,a=0,c=i.length;c>a&&!(r=document.querySelector(i[a]));a++);if(!r)return null;var h=new Toc(r),l=document.createElement("div"),s=document.createElement("div"),p=document.createElement("button");p.innerHTML="TOC",s.classList.add("tocBd"),s.innerHTML=h.toHTML(),l.id=t,l.classList.add("tocBox"),l.appendChild(s),l.appendChild(p),r.appendChild(l);var d=".tocBox{position:fixed;top:200px;right:10px;margin-top:30px !important;}.tocBox .toc-show{opacity:1 !important;}.tocBox .tocBd{opacity:0;padding:5px 10px;min-width:200px;max-height:500px;border:1px solid rgba(0, 0, 0, .2);border-radius:2px;background:#fff;overflow:auto;transition:opacity .3s ease-out;}.tocBox a{text-decoration:none;}.tocBox ul{margin:0 !important;padding:0 !important;list-style:none;}.tocBox li ul{margin-left:20px !important;}.tocBox button{position:absolute;top:-20px;right:0;font-size:12px;line-height:1.2}";if("@css@"===d){var u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.href="toc.css",document.body.appendChild(u)}else{var f=document.createElement("style");f.appendChild(document.createTextNode(d)),document.body.appendChild(f)}p.addEventListener("click",n,!1),document.addEventListener("click",function(t){var o=t.target;o===l||l.contains(o)||e()},!1);var m="toc-show";return{toc:h,tocBox:l,tocBd:s,tocBtn:p}}var e="JMdToc",o=t(e),n="github.com"===location.hostname,i=n?document.getElementById("js-repo-pjax-container"):document.documentElement,r={childList:!0,subtree:!0},a=new MutationObserver(function(n){n.forEach(function(n){if(n.target===i){o&&(o.tocBd=null,o.tocBtn=null,o.tocBox.parentNode.removeChild(o.tocBox),o.tocBox=null);var r=document.getElementById(e);r&&(r.parentNode.removeChild(r),r=null),o=t(e)}})});i&&a.observe(i,r)}();