function Chapter(t,e){this.parent=null,this.level=t,this.title=e||"",this.id=this.setIDByTitle(),this.children=[]}function Toc(t){this.selector="h1, h2, h3, h4, h5, h6",this.container=t,this.chapters=[],this.parseChapters()}if(Chapter.getIDFromStr=function(t){return t.toLowerCase().replace(/\s/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/[\/\\#&,\?]/g,"")},Chapter.prototype.setIDByTitle=function(){return this.title?Chapter.getIDFromStr(this.title):""},Chapter.prototype.addSubChapter=function(t){t.parent=this,this.children.push(t)},Chapter.prototype.toHTML=function(){if(!this.title&&!this.children.length)return"";var t="<li>";return this.title&&(t+='<a href="#'+this.id+'">'+this.title+"</a>"),this.children.length&&(t+="<ul>",this.children.forEach(function(e){t+=e.toHTML()}),t+="</ul>"),t+="</li>"},Chapter.prototype.valueOf=function(){var t=this.title+"/"+this.level+"/"+this.id;if(this.children.length){t+="*";var e=[];this.children.forEach(function(t){e.push(t.valueOf())}),t+=e.join("||")}return t},"object"==typeof exports&&(module.exports=Chapter),"object"==typeof exports)var Chapter=require("./Chapter");Toc.prototype.parseChapters=function(){var t="undefined"!=typeof document?this.container.querySelectorAll(this.selector):this.container.find(this.selector);if(t.length)for(var e,o,n,r,i,a=1,c=0,l=t.length;l>c;c++){var h=t[c];if(e=parseInt(h.tagName.slice(1),10),o=h.textContent.trim().replace(/Â¶$/,""),n=new Chapter(e,o),h.id=n.id,1!=e){if(i||(i=new Chapter(1),this.chapters.push(i),r=i),a>e){for(var s=e;s++<=a;)r=r.parent;r.addSubChapter(n)}else if(e>a){for(var p=e;p-1>a;){var d=new Chapter(p);r.addSubChapter(d),r=d,p--}r.addSubChapter(n)}else r.parent.addSubChapter(n);r=n,a=e}else a=e,this.chapters.push(n),i=n,r=n}},Toc.prototype.toHTML=function(){var t="<ul>";return this.chapters.forEach(function(e){t+=e.toHTML()}),t+="</ul>"},Toc.prototype.valueOf=function(){var t=[];return this.chapters.forEach(function(e){t.push(e.valueOf())}),t.join("||")},"object"==typeof exports&&(module.exports=Toc),function(){function t(t){function e(){s.classList.remove(m)}function o(){s.classList.add(m)}function n(){s.classList.contains(m)?e():o()}for(var r=["#readme > .markdown-body","#README > .wiki",".file-content.wiki",".wiki-holder > .wiki"],i=null,a=0,c=r.length;c>a&&!(i=document.querySelector(r[a]));a++);if(!i)return null;var l=new Toc(i),h=document.createElement("div"),s=document.createElement("div"),p=document.createElement("button");p.innerHTML="TOC",s.classList.add("tocBd"),s.innerHTML=l.toHTML(),h.id=t,h.classList.add("tocBox"),h.appendChild(s),h.appendChild(p),i.appendChild(h);var d=".tocBox{position:fixed;top:200px;right:10px;margin-top:30px !important;}.tocBox .toc-show{display:block;}.tocBox .tocBd{display:none;padding:5px 10px;min-width:200px;max-height:500px;border:1px solid rgba(0, 0, 0, .2);border-radius:2px;background:#fff;overflow:auto;}.tocBox a{text-decoration:none;}.tocBox ul{margin:0 !important;padding:0 !important;list-style:none;}.tocBox li ul{margin-left:20px !important;}.tocBox button{position:absolute;top:-20px;right:0;font-size:12px;line-height:1.2}";if("@css@"===d){var u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.href="toc.css",document.body.appendChild(u)}else{var f=document.createElement("style");f.appendChild(document.createTextNode(d)),document.body.appendChild(f)}p.addEventListener("click",n,!1),document.addEventListener("click",function(t){var o=t.target;o===h||h.contains(o)||e()},!1);var m="toc-show";return{toc:l,tocBox:h,tocBd:s,tocBtn:p}}var e="JMdToc",o=t(e),n="github.com"===location.hostname,r=n?document.getElementById("js-repo-pjax-container"):document.documentElement,i={childList:!0,subtree:!0},a=new MutationObserver(function(n){n.forEach(function(n){if(n.target===r){o&&(o.tocBd=null,o.tocBtn=null,o.tocBox.parentNode.removeChild(o.tocBox),o.tocBox=null);var i=document.getElementById(e);i&&(i.parentNode.removeChild(i),i=null),o=t(e)}})});r&&a.observe(r,i)}();