function Chapter(t,e){this.parent=null,this.level=t,this.title=e||"",this.id=this.setIDByTitle(),this.children=[]}function Toc(t){this.selector="h1, h2, h3, h4, h5, h6",this.container=t,this.chapters=[],this.parseChapters()}if(Chapter.getIDFromStr=function(t){return t.toLowerCase().replace(/\s/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/[\/\\#&,\?]/g,"")},Chapter.prototype.setIDByTitle=function(){return this.title?Chapter.getIDFromStr(this.title):""},Chapter.prototype.addSubChapter=function(t){t.parent=this,this.children.push(t)},Chapter.prototype.toHTML=function(){if(!this.title&&!this.children.length)return"";var t="<li>";return this.title&&(t+='<a href="#'+this.id+'">'+this.title+"</a>"),this.children.length&&(t+="<ul>",this.children.forEach(function(e){t+=e.toHTML()}),t+="</ul>"),t+="</li>"},Chapter.prototype.valueOf=function(){var t=this.title+"/"+this.level+"/"+this.id;if(this.children.length){t+="*";var e=[];this.children.forEach(function(t){e.push(t.valueOf())}),t+=e.join("||")}return t},"object"==typeof exports&&(module.exports=Chapter),"object"==typeof exports)var Chapter=require("./Chapter");Toc.prototype.parseChapters=function(){var t=this.container.find(this.selector);if(t.length)for(var e,o,r,n,i,a=1,h=0,c=t.length;c>h;h++){var l=t[h];if(e=parseInt(l.tagName.slice(1),10),o=l.textContent.trim().replace(/Â¶$/,""),r=new Chapter(e,o),l.id=r.id,1!=e){if(i||(i=new Chapter(1),this.chapters.push(i),n=i),a>e){for(var p=e;p++<=a;)n=n.parent;n.addSubChapter(r)}else if(e>a){for(var s=e;s-1>a;){var d=new Chapter(s);n.addSubChapter(d),n=d,s--}n.addSubChapter(r)}else n.parent.addSubChapter(r);n=r,a=e}else a=e,this.chapters.push(r),i=r,n=r}},Toc.prototype.toHTML=function(){var t="<ul>";return this.chapters.forEach(function(e){t+=e.toHTML()}),t+="</ul>"},Toc.prototype.valueOf=function(){var t=[];return this.chapters.forEach(function(e){t.push(e.valueOf())}),t.join("||")},"object"==typeof exports&&(module.exports=Toc),function(){function t(t){for(var e=["#readme > .markdown-body","#README > .wiki","#tree-content-holder > .file-holder > .file-content.wiki",".wiki-holder > .wiki"],o=null,r=0,n=e.length;n>r&&(o=$(e[r]),!o.length);r++)o=null;if(!o)return null;var i=new Toc(o),a=$("<div/>"),h=$("<div/>"),c=$("<button>TOC</button>");h.html(i.toHTML()).addClass("tocBd"),a.addClass("tocBox").append(h).prependTo(o).append(c).attr("id",t);var l=".tocBox{position:fixed;top:200px;right:10px;margin-top:30px !important;}.tocBox .tocBd{display:none;padding:5px 10px;min-width:200px;max-height:500px;border:1px solid rgba(0, 0, 0, .2);border-radius:2px;background:#fff;overflow:auto;}.tocBox a{text-decoration:none;}.tocBox ul{margin:0 !important;padding:0 !important;list-style:none;}.tocBox li ul{margin-left:20px !important;}.tocBox button{position:absolute;top:-20px;right:0;font-size:12px;line-height:1.2}";if("@css@"===l){var p=document.createElement("link");p.setAttribute("rel","stylesheet"),p.href="toc.css",document.body.appendChild(p)}else{var s=document.createElement("style");s.appendChild(document.createTextNode(l)),document.body.appendChild(s)}return c.on("click",function(){h.fadeToggle()}),$(document).on("click",function(t){var e=t.target,o=a.get(0);e===o||$.contains(o,e)||h.fadeOut()}),{toc:i,tocBox:a,tocBd:h,tocBtn:c}}var e="JMdToc",o=t(e),r="github.com"===location.hostname,n=r?document.getElementById("js-repo-pjax-container"):document.documentElement,i={childList:!0,subtree:!0},a=new MutationObserver(function(r){r.forEach(function(r){if(r.target===n){o&&(o.tocBd=null,o.tocBtn.off("click"),o.tocBtn=null,o.tocBox.remove(),o.tocBox=null);var i=$("#"+e);i&&(i.remove(),i=null),o=t(e)}})});n&&a.observe(n,i)}();